<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i Ki·ªÉm Tra H√≥a H·ªçc L·ªõp 9</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            width: 100%;
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .student-info {
            padding: 20px 30px;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
        }

        .student-info h3 {
            margin-bottom: 15px;
            color: #333;
        }

        .student-info input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            margin: 8px 0;
            transition: border-color 0.3s;
        }

        .student-info input:focus {
            border-color: #007bff;
            outline: none;
        }
        
        .student-info .btn {
            width: 100%;
            margin-top: 10px;
        }

        .exam-content {
            padding: 30px;
        }

        .question-container {
            display: none;
            background: #fff;
            margin-bottom: 20px;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #eee;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question-container.active {
            display: block;
        }

        .question-header {
            font-size: 1.3em;
            font-weight: bold;
            color: white;
            margin-bottom: 15px;
            padding: 15px;
            background: linear-gradient(45deg, #f093fb 0%, #f5576c 100%);
            border-radius: 8px;
        }

        .question-content {
            margin-bottom: 20px;
            font-size: 1.1em;
            line-height: 1.6;
        }

        .options {
            margin: 15px 0;
        }

        .option {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .option:hover {
            background-color: #f8f9fa;
        }

        .option input[type="radio"], .option input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }

        .option label {
            cursor: pointer;
            flex-grow: 1;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-top: 1px solid #eee;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            text-transform: uppercase;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .btn-success {
            background: linear-gradient(45deg, #28a745 0%, #218838 100%);
            color: white;
        }

        .progress-bar {
            height: 6px;
            background: #e9ecef;
            border-radius: 3px;
            margin-bottom: 20px;
        }

        .progress {
            height: 100%;
            background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .question-nav {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-bottom: 20px;
        }

        .question-btn {
            width: 40px;
            height: 40px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 50%;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .question-btn.answered {
            background: #28a745;
            color: white;
            border-color: #28a745;
        }

        .question-btn.current {
            background: #007bff;
            color: white;
            border-color: #007bff;
            transform: scale(1.1);
        }

        .results {
            display: none;
            text-align: center;
            padding: 40px;
            animation: fadeIn 0.5s;
        }
        
        .results h2 {
            font-size: 2em;
            margin-bottom: 20px;
            color: #333;
        }

        .score {
            font-size: 3em;
            font-weight: bold;
            color: #28a745;
            margin-bottom: 20px;
        }

        .true-false-container {
            border: 1px solid #ddd;
            border-radius: 8px;
            margin: 10px 0;
            padding: 15px;
        }

        .true-false-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .true-false-item:last-child {
            border-bottom: none;
        }

        .tf-options {
            display: flex;
            gap: 20px;
        }

        .short-answer input[type="text"] {
            width: 100%;
            max-width: 300px;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            margin-top: 10px;
        }
        
        #timer {
            font-size: 1.5em;
            font-weight: bold;
            color: #dc3545;
            text-align: center;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            .container {
                margin: 0;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .navigation {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation .btn {
                width: 100%;
            }

            .true-false-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß™ B√ÄI KI·ªÇM TRA H√ìA H·ªåC</h1>
            <p>L·ªõp 9 - Th·ªùi gian: 45 ph√∫t</p>
        </div>

        <div id="student-form" class="student-info">
            <h3>Th√¥ng tin h·ªçc sinh</h3>
            <input type="text" id="studentName" placeholder="H·ªç v√† t√™n h·ªçc sinh *" required>
            <input type="text" id="studentClass" placeholder="L·ªõp *" required>
            <input type="email" id="studentEmail" placeholder="Email *" required>
            <button class="btn btn-primary" onclick="startExam()">B·∫Øt ƒë·∫ßu l√†m b√†i</button>
        </div>

        <div id="exam-container" class="exam-content" style="display: none;">
            <div id="timer">45:00</div>
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            
            <div class="question-nav" id="questionNav"></div>

            <div id="questions-wrapper">
                <!-- PH·∫¶N I: TR·∫ÆC NGHI·ªÜM NHI·ªÄU L·ª∞A CH·ªåN -->
                <div class="question-container" data-question="1">
                    <div class="question-header">C√¢u 1</div>
                    <div class="question-content">
                        <p><strong>Kim lo·∫°i n√†o sau ƒë√¢y d·∫´n ƒëi·ªán t·ªët nh·∫•t?</strong></p>
                        <div class="options">
                            <div class="option"><input type="radio" id="q1a" name="q1" value="A"><label for="q1a">A. Au</label></div>
                            <div class="option"><input type="radio" id="q1b" name="q1" value="B"><label for="q1b">B. Cu</label></div>
                            <div class="option"><input type="radio" id="q1c" name="q1" value="C"><label for="q1c">C. Fe</label></div>
                            <div class="option"><input type="radio" id="q1d" name="q1" value="D"><label for="q1d">D. Ag</label></div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="2">
                    <div class="question-header">C√¢u 2</div>
                    <div class="question-content">
                        <p><strong>Kim lo·∫°i n√†o sau ƒë√¢y t√°c d·ª•ng v·ªõi n∆∞·ªõc thu ƒë∆∞·ª£c dung d·ªãch ki·ªÅm?</strong></p>
                        <div class="options">
                            <div class="option"><input type="radio" id="q2a" name="q2" value="A"><label for="q2a">A. Al</label></div>
                            <div class="option"><input type="radio" id="q2b" name="q2" value="B"><label for="q2b">B. K</label></div>
                            <div class="option"><input type="radio" id="q2c" name="q2" value="C"><label for="q2c">C. Ag</label></div>
                            <div class="option"><input type="radio" id="q2d" name="q2" value="D"><label for="q2d">D. Fe</label></div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="3">
                    <div class="question-header">C√¢u 3</div>
                    <div class="question-content">
                        <p><strong>Kim lo·∫°i n√†o sau ƒë√¢y kh√¥ng tan ƒë∆∞·ª£c trong dung d·ªãch HCl?</strong></p>
                        <div class="options">
                           <div class="option"><input type="radio" id="q3a" name="q3" value="A"><label for="q3a">A. Al</label></div>
                           <div class="option"><input type="radio" id="q3b" name="q3" value="B"><label for="q3b">B. Ag</label></div>
                           <div class="option"><input type="radio" id="q3c" name="q3" value="C"><label for="q3c">C. Zn</label></div>
                           <div class="option"><input type="radio" id="q3d" name="q3" value="D"><label for="q3d">D. Mg</label></div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="4">
                    <div class="question-header">C√¢u 4</div>
                    <div class="question-content">
                        <p><strong>Hai kim lo·∫°i ƒë·ªÅu ph·∫£n ·ª©ng v·ªõi dung d·ªãch Cu(NO‚ÇÉ)‚ÇÇ gi·∫£i ph√≥ng kim lo·∫°i Cu l√†:</strong></p>
                        <div class="options">
                           <div class="option"><input type="radio" id="q4a" name="q4" value="A"><label for="q4a">A. Fe v√† Au</label></div>
                           <div class="option"><input type="radio" id="q4b" name="q4" value="B"><label for="q4b">B. Al v√† Ag</label></div>
                           <div class="option"><input type="radio" id="q4c" name="q4" value="C"><label for="q4c">C. Cr v√† Hg</label></div>
                           <div class="option"><input type="radio" id="q4d" name="q4" value="D"><label for="q4d">D. Al v√† Fe</label></div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="5">
                    <div class="question-header">C√¢u 5</div>
                    <div class="question-content">
                        <p><strong>Kim lo·∫°i n√†o sau ƒë√¢y khi t√°c d·ª•ng v·ªõi HCl v√† t√°c d·ª•ng v·ªõi Cl‚ÇÇ cho c√πng m·ªôt lo·∫°i mu·ªëi chloride?</strong></p>
                        <div class="options">
                           <div class="option"><input type="radio" id="q5a" name="q5" value="A"><label for="q5a">A. Fe</label></div>
                           <div class="option"><input type="radio" id="q5b" name="q5" value="B"><label for="q5b">B. Ag</label></div>
                           <div class="option"><input type="radio" id="q5c" name="q5" value="C"><label for="q5c">C. Zn</label></div>
                           <div class="option"><input type="radio" id="q5d" name="q5" value="D"><label for="q5d">D. Cu</label></div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="6">
                    <div class="question-header">C√¢u 6</div>
                    <div class="question-content">
                        <p><strong>Cho d√£y c√°c kim lo·∫°i: Ag, Cu, Al, Mg. Kim lo·∫°i trong d√£y ho·∫°t ƒë·ªông h√≥a h·ªçc y·∫øu nh·∫•t l√†?</strong></p>
                        <div class="options">
                           <div class="option"><input type="radio" id="q6a" name="q6" value="A"><label for="q6a">A. Cu</label></div>
                           <div class="option"><input type="radio" id="q6b" name="q6" value="B"><label for="q6b">B. Mg</label></div>
                           <div class="option"><input type="radio" id="q6c" name="q6" value="C"><label for="q6c">C. Al</label></div>
                           <div class="option"><input type="radio" id="q6d" name="q6" value="D"><label for="q6d">D. Ag</label></div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="7">
                    <div class="question-header">C√¢u 7</div>
                    <div class="question-content">
                        <p><strong>Trong c√¥ng nghi·ªáp, kim lo·∫°i n√†o sau ƒë√¢y ƒë∆∞·ª£c ƒëi·ªÅu ch·∫ø b·∫±ng ph∆∞∆°ng ph√°p nhi·ªát luy·ªán?</strong></p>
                        <div class="options">
                           <div class="option"><input type="radio" id="q7a" name="q7" value="A"><label for="q7a">A. Mg</label></div>
                           <div class="option"><input type="radio" id="q7b" name="q7" value="B"><label for="q7b">B. Fe</label></div>
                           <div class="option"><input type="radio" id="q7c" name="q7" value="C"><label for="q7c">C. Na</label></div>
                           <div class="option"><input type="radio" id="q7d" name="q7" value="D"><label for="q7d">D. Al</label></div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="8">
                    <div class="question-header">C√¢u 8</div>
                    <div class="question-content">
                        <p><strong>T√≠nh ch·∫•t ƒë·∫∑c tr∆∞ng c·ªßa inox l√†:</strong></p>
                        <div class="options">
                           <div class="option"><input type="radio" id="q8a" name="q8" value="A"><label for="q8a">A. nh·∫π v√† b·ªÅn</label></div>
                           <div class="option"><input type="radio" id="q8b" name="q8" value="B"><label for="q8b">B. ƒë·ªô c·ª©ng cao</label></div>
                           <div class="option"><input type="radio" id="q8c" name="q8" value="C"><label for="q8c">C. kh√≥ b·ªã g·ªâ</label></div>
                           <div class="option"><input type="radio" id="q8d" name="q8" value="D"><label for="q8d">D. d·∫´n ƒëi·ªán t·ªët</label></div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="9">
                    <div class="question-header">C√¢u 9</div>
                    <div class="question-content">
                        <p><strong>Nguy√™n li·ªáu ƒë·ªÉ s·∫£n xu·∫•t gang l√†:</strong></p>
                        <div class="options">
                           <div class="option"><input type="radio" id="q9a" name="q9" value="A"><label for="q9a">A. qu·∫∑ng s·∫Øt, than c·ªëc, ch·∫•t t·∫°o x·ªâ CaCO‚ÇÉ, SiO‚ÇÇ, ...</label></div>
                           <div class="option"><input type="radio" id="q9b" name="q9" value="B"><label for="q9b">B. qu·∫∑ng nh√¥m, than c·ªëc, ch·∫•t t·∫°o x·ªâ</label></div>
                           <div class="option"><input type="radio" id="q9c" name="q9" value="C"><label for="q9c">C. gang ho·∫∑c s·∫Øt th√©p ph·∫ø li·ªáu</label></div>
                           <div class="option"><input type="radio" id="q9d" name="q9" value="D"><label for="q9d">D. qu·∫∑ng k·∫Ωm, than c·ªëc, ch·∫•t t·∫°o x·ªâ</label></div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="10">
                    <div class="question-header">C√¢u 10</div>
                    <div class="question-content">
                        <p><strong>·ª®ng d·ª•ng n√†o sau ƒë√¢y kh√¥ng ph·∫£i c·ªßa kim c∆∞∆°ng?</strong></p>
                        <div class="options">
                           <div class="option"><input type="radio" id="q10a" name="q10" value="A"><label for="q10a">A. ƒê·ªì trang s·ª©c</label></div>
                           <div class="option"><input type="radio" id="q10b" name="q10" value="B"><label for="q10b">B. M≈©i khoan</label></div>
                           <div class="option"><input type="radio" id="q10c" name="q10" value="C"><label for="q10c">C. Ch·∫•t b√¥i tr∆°n</label></div>
                           <div class="option"><input type="radio" id="q10d" name="q10" value="D"><label for="q10d">D. dao c·∫Øt k√≠nh</label></div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="11">
                    <div class="question-header">C√¢u 11</div>
                    <div class="question-content">
                        <p><strong>T√≠nh ch·∫•t v·∫≠t l√≠ n√†o sau ƒë√¢y kh√¥ng ph·∫£i c·ªßa kim lo·∫°i?</strong></p>
                        <div class="options">
                           <div class="option"><input type="radio" id="q11a" name="q11" value="A"><label for="q11a">A. D·∫´n ƒëi·ªán, d·∫´n nhi·ªát t·ªët</label></div>
                           <div class="option"><input type="radio" id="q11b" name="q11" value="B"><label for="q11b">B. Nhi·ªát ƒë·ªô n√≥ng ch·∫£y cao</label></div>
                           <div class="option"><input type="radio" id="q11c" name="q11" value="C"><label for="q11c">C. Kh·ªëi l∆∞·ª£ng ri√™ng nh·ªè</label></div>
                           <div class="option"><input type="radio" id="q11d" name="q11" value="D"><label for="q11d">D. H·∫ßu h·∫øt ·ªü tr·∫°ng th√°i r·∫Øn ƒëi·ªÅu ki·ªán th∆∞·ªùng</label></div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="12">
                    <div class="question-header">C√¢u 12</div>
                    <div class="question-content">
                        <p><strong>Cho ph·∫£n ·ª©ng: 2Mg + O‚ÇÇ ‚Üí 2MgO. Trong ph·∫£n ·ª©ng tr√™n:</strong></p>
                        <div class="options">
                           <div class="option"><input type="radio" id="q12a" name="q12" value="A"><label for="q12a">A. Mg l√† ch·∫•t nh·∫≠n electron</label></div>
                           <div class="option"><input type="radio" id="q12b" name="q12" value="B"><label for="q12b">B. O‚ÇÇ l√† ch·∫•t nh∆∞·ªùng electron</label></div>
                           <div class="option"><input type="radio" id="q12c" name="q12" value="C"><label for="q12c">C. MgO thu·ªôc lo·∫°i oxide acid</label></div>
                           <div class="option"><input type="radio" id="q12d" name="q12" value="D"><label for="q12d">D. Li√™n k·∫øt trong MgO thu·ªôc lo·∫°i ion</label></div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="13">
                    <div class="question-header">C√¢u 13</div>
                    <div class="question-content">
                        <p><strong>Ph∆∞∆°ng tr√¨nh h√≥a h·ªçc n√†o sau ƒë√¢y kh√¥ng ƒë√∫ng?</strong></p>
                        <div class="options">
                           <div class="option"><input type="radio" id="q13a" name="q13" value="A"><label for="q13a">A. 2Fe + 3H‚ÇÇSO‚ÇÑ(lo√£ng) ‚Üí Fe‚ÇÇ(SO‚ÇÑ)‚ÇÉ + 3H‚ÇÇ</label></div>
                           <div class="option"><input type="radio" id="q13b" name="q13" value="B"><label for="q13b">B. Ca + 2H‚ÇÇO ‚Üí Ca(OH)‚ÇÇ + H‚ÇÇ</label></div>
                           <div class="option"><input type="radio" id="q13c" name="q13" value="C"><label for="q13c">C. 2Al + Fe‚ÇÇO‚ÇÉ ‚Üí Al‚ÇÇO‚ÇÉ + 2Fe</label></div>
                           <div class="option"><input type="radio" id="q13d" name="q13" value="D"><label for="q13d">D. 4Cr + 3O‚ÇÇ ‚Üí 2Cr‚ÇÇO‚ÇÉ</label></div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="14">
                    <div class="question-header">C√¢u 14</div>
                    <div class="question-content">
                        <p><strong>C√≥ 4 kim lo·∫°i X, Y, Z, T ƒë·ª©ng sau Mg trong d√£y ho·∫°t ƒë·ªông h√≥a h·ªçc. Bi·∫øt Z v√† T tan trong dung d·ªãch HCl, X v√† Y kh√¥ng tan trong dung d·ªãch HCl, Z ƒë·∫©y ƒë∆∞·ª£c T trong dung d·ªãch mu·ªëi T; X ƒë·∫©y ƒë∆∞·ª£c Y trong dung d·ªãch mu·ªëi Y. Th·ª© t·ª± ho·∫°t ƒë·ªông h√≥a h·ªçc c·ªßa kim lo·∫°i tƒÉng d·∫ßn nh∆∞ sau:</strong></p>
                        <div class="options">
                           <div class="option"><input type="radio" id="q14a" name="q14" value="A"><label for="q14a">A. T, Z, X, Y</label></div>
                           <div class="option"><input type="radio" id="q14b" name="q14" value="B"><label for="q14b">B. Z, T, X, Y</label></div>
                           <div class="option"><input type="radio" id="q14c" name="q14" value="C"><label for="q14c">C. Y, X, T, Z</label></div>
                           <div class="option"><input type="radio" id="q14d" name="q14" value="D"><label for="q14d">D. Z, T, Y, X</label></div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="15">
                    <div class="question-header">C√¢u 15</div>
                    <div class="question-content">
                        <p><strong>Cho 5,4 gam Al t√°c d·ª•ng h·∫øt v·ªõi kh√≠ Cl‚ÇÇ (d∆∞), thu ƒë∆∞·ª£c m gam mu·ªëi. Gi√° tr·ªã c·ªßa m l√†:</strong></p>
                        <div class="options">
                           <div class="option"><input type="radio" id="q15a" name="q15" value="A"><label for="q15a">A. 12,5</label></div>
                           <div class="option"><input type="radio" id="q15b" name="q15" value="B"><label for="q15b">B. 25,0</label></div>
                           <div class="option"><input type="radio" id="q15c" name="q15" value="C"><label for="q15c">C. 19,6</label></div>
                           <div class="option"><input type="radio" id="q15d" name="q15" value="D"><label for="q15d">D. 26,7</label></div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="16">
                    <div class="question-header">C√¢u 16</div>
                    <div class="question-content">
                        <p><strong>Nh√∫ng thanh Fe v√†o dung d·ªãch CuSO‚ÇÑ. Sau m·ªôt th·ªùi gian, kh·ªëi l∆∞·ª£ng dung d·ªãch gi·∫£m 0,8 gam so v·ªõi kh·ªëi l∆∞·ª£ng dung d·ªãch ban ƒë·∫ßu. Kh·ªëi l∆∞·ª£ng Fe ƒë√£ ph·∫£n ·ª©ng l√†:</strong></p>
                        <div class="options">
                           <div class="option"><input type="radio" id="q16a" name="q16" value="A"><label for="q16a">A. 8,4 gam</label></div>
                           <div class="option"><input type="radio" id="q16b" name="q16" value="B"><label for="q16b">B. 6,4 gam</label></div>
                           <div class="option"><input type="radio" id="q16c" name="q16" value="C"><label for="q16c">C. 11,2 gam</label></div>
                           <div class="option"><input type="radio" id="q16d" name="q16" value="D"><label for="q16d">D. 5,6 gam</label></div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="17">
                    <div class="question-header">C√¢u 17</div>
                    <div class="question-content">
                        <p><strong>Cho c√°c ph√°t bi·ªÉu: (a) Kim lo·∫°i Na, K, Fe, Ag ƒë·ªÅu c√≥ kh·∫£ nƒÉng ph·∫£n ·ª©ng v·ªõi kh√≠ oxygen ngay ƒëi·ªÅu ki·ªán th∆∞·ªùng. (b) Kim lo·∫°i Na, K, Ca ph·∫£n ·ª©ng m·∫°nh v·ªõi n∆∞·ªõc ·ªü ƒëi·ªÅu ki·ªán th∆∞·ªùng. (c) Kim lo·∫°i Mg, Fe, Zn c√≥ kh·∫£ nƒÉng ph·∫£n ·ª©ng v·ªõi h∆°i n∆∞·ªõc ·ªü nhi·ªát ƒë·ªô cao t·∫°o ra hydroxide. (d) Kim lo·∫°i Au, Al, Cu kh√¥ng tan trong dung d·ªãch HCl. (e) Kim lo·∫°i Fe m·∫°nh h∆°n c√≥ th·ªÉ ƒë·∫©y Cu ra kh·ªèi dung d·ªãch mu·ªëi. S·ªë ph√°t bi·ªÉu ƒë√∫ng l√†:</strong></p>
                        <div class="options">
                           <div class="option"><input type="radio" id="q17a" name="q17" value="A"><label for="q17a">A. 2</label></div>
                           <div class="option"><input type="radio" id="q17b" name="q17" value="B"><label for="q17b">B. 3</label></div>
                           <div class="option"><input type="radio" id="q17c" name="q17" value="C"><label for="q17c">C. 4</label></div>
                           <div class="option"><input type="radio" id="q17d" name="q17" value="D"><label for="q17d">D. 5</label></div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="18">
                    <div class="question-header">C√¢u 18</div>
                    <div class="question-content">
                        <p><strong>Cho c√°c ph√°t bi·ªÉu sau: (a) Carbon, l∆∞u hu·ª≥nh, sodium l√† c√°c phi kim quan tr·ªçng. (b) Chlorine ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ x·ª≠ l√≠ n∆∞·ªõc sinh ho·∫°t. (c) ·ªû ƒëi·ªÅu ki·ªán th∆∞·ªùng, th·ªßy ng√¢n l√† kim lo·∫°i ·ªü tr·∫°ng th√°i l·ªèng. (d) C√°c phi kim th∆∞·ªùng d·∫´n ƒëi·ªán, d·∫´n nhi·ªát t·ªët h∆°n kim lo·∫°i. (e) Trong c√°c ph·∫£n ·ª©ng h√≥a h·ªçc, kim lo·∫°i c√≥ xu h∆∞·ªõng nh∆∞·ªùng electron c√≤n phi kim th∆∞·ªùng c√≥ xu h∆∞·ªõng nh·∫≠n electron. S·ªë ph√°t bi·ªÉu ƒë√∫ng l√†:</strong></p>
                        <div class="options">
                           <div class="option"><input type="radio" id="q18a" name="q18" value="A"><label for="q18a">A. 2</label></div>
                           <div class="option"><input type="radio" id="q18b" name="q18" value="B"><label for="q18b">B. 3</label></div>
                           <div class="option"><input type="radio" id="q18c" name="q18" value="C"><label for="q18c">C. 4</label></div>
                           <div class="option"><input type="radio" id="q18d" name="q18" value="D"><label for="q18d">D. 5</label></div>
                        </div>
                    </div>
                </div>

                <!-- PH·∫¶N II: TR·∫ÆC NGHI·ªÜM ƒê√öNG/SAI -->
                <div class="question-container" data-question="19">
                    <div class="question-header">C√¢u 19: Tr·∫Øc nghi·ªám ƒë√∫ng sai</div>
                    <div class="question-content">
                        <p><strong>M·ªôt s·ªë kim lo·∫°i th√¥ng d·ª•ng nh∆∞ nh√¥m (aluminium), s·∫Øt (iron), v√†ng (gold) c√≥ nhi·ªÅu t√≠nh ch·∫•t h√≥a h·ªçc gi·ªëng v√† kh√°c nhau.</strong></p>
                        <div class="true-false-container">
                            <div class="true-false-item">
                                <span>a. S·∫Øt b·ªã h√≤a tan trong dung d·ªãch HCl c√≤n v√†ng th√¨ kh√¥ng.</span>
                                <div class="tf-options">
                                    <label><input type="radio" name="q19a" value="true"> ƒê√∫ng</label>
                                    <label><input type="radio" name="q19a" value="false"> Sai</label>
                                </div>
                            </div>
                            <div class="true-false-item">
                                <span>b. Nh√¥m v√† s·∫Øt ƒë·ªÅu t√°c d·ª•ng ƒë∆∞·ª£c v·ªõi dung d·ªãch HCl, H‚ÇÇSO‚ÇÑ lo√£ng.</span>
                                <div class="tf-options">
                                    <label><input type="radio" name="q19b" value="true"> ƒê√∫ng</label>
                                    <label><input type="radio" name="q19b" value="false"> Sai</label>
                                </div>
                            </div>
                            <div class="true-false-item">
                                <span>c. Nh√¥m, s·∫Øt v√† v√†ng ƒë·ªÅu b·ªÅn trong kh√¥ng kh√≠ v√† n∆∞·ªõc.</span>
                                <div class="tf-options">
                                    <label><input type="radio" name="q19c" value="true"> ƒê√∫ng</label>
                                    <label><input type="radio" name="q19c" value="false"> Sai</label>
                                </div>
                            </div>
                            <div class="true-false-item">
                                <span>d. Nh√¥m v√† s·∫Øt ƒë·ªÅu t√°c d·ª•ng v·ªõi kh√≠ chlorine theo c√πng t·ªâ l·ªá mol.</span>
                                <div class="tf-options">
                                    <label><input type="radio" name="q19d" value="true"> ƒê√∫ng</label>
                                    <label><input type="radio" name="q19d" value="false"> Sai</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="20">
                    <div class="question-header">C√¢u 20: Tr·∫Øc nghi·ªám ƒë√∫ng sai</div>
                    <div class="question-content">
                        <p><strong>Cho c√°c kim lo·∫°i: Na, Mg, Ag, Cu, Fe, Al.</strong></p>
                        <div class="true-false-container">
                            <div class="true-false-item">
                                <span>a. Th·ª© t·ª± gi·∫£m d·∫ßn m·ª©c ƒë·ªô ho·∫°t ƒë·ªông h√≥a h·ªçc c·ªßa c√°c kim lo·∫°i l√† Na, Mg, Al, Fe, Ag, Cu.</span>
                                <div class="tf-options">
                                    <label><input type="radio" name="q20a" value="true"> ƒê√∫ng</label>
                                    <label><input type="radio" name="q20a" value="false"> Sai</label>
                                </div>
                            </div>
                            <div class="true-false-item">
                                <span>b. Kim lo·∫°i Na c√≥ th·ªÉ ƒë·∫©y Mg ra kh·ªèi dung d·ªãch mu·ªëi.</span>
                                <div class="tf-options">
                                    <label><input type="radio" name="q20b" value="true"> ƒê√∫ng</label>
                                    <label><input type="radio" name="q20b" value="false"> Sai</label>
                                </div>
                            </div>
                            <div class="true-false-item">
                                <span>c. Kim lo·∫°i Fe c√≥ th·ªÉ ƒë·∫©y Cu ra kh·ªèi mu·ªëi.</span>
                                <div class="tf-options">
                                    <label><input type="radio" name="q20c" value="true"> ƒê√∫ng</label>
                                    <label><input type="radio" name="q20c" value="false"> Sai</label>
                                </div>
                            </div>
                            <div class="true-false-item">
                                <span>d. C√≥ 2 kim lo·∫°i kh√¥ng t√°c d·ª•ng v·ªõi dung d·ªãch HCl.</span>
                                <div class="tf-options">
                                    <label><input type="radio" name="q20d" value="true"> ƒê√∫ng</label>
                                    <label><input type="radio" name="q20d" value="false"> Sai</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="21">
                    <div class="question-header">C√¢u 21: Tr·∫Øc nghi·ªám ƒë√∫ng sai</div>
                    <div class="question-content">
                        <p><strong>Gang, th√©p v√† ƒëuy ‚Äì ra l√† nh·ªØng h·ª£p kim ph·ªï bi·∫øn.</strong></p>
                        <div class="true-false-container">
                            <div class="true-false-item">
                                <span>a. Gang ch·ª©a ch·ªß y·∫øu l√† s·∫Øt, 2% - 5% carbon v√† m·ªôt s·ªë nguy√™n t·ªë kh√°c.</span>
                                <div class="tf-options">
                                    <label><input type="radio" name="q21a" value="true"> ƒê√∫ng</label>
                                    <label><input type="radio" name="q21a" value="false"> Sai</label>
                                </div>
                            </div>
                            <div class="true-false-item">
                                <span>b. Th√©p th∆∞·ªùng (th√©p carbon) d·∫ªo v√† c·ª©ng ch·ª©a h√†m l∆∞·ª£ng carbon tr√™n 2%.</span>
                                <div class="tf-options">
                                    <label><input type="radio" name="q21b" value="true"> ƒê√∫ng</label>
                                    <label><input type="radio" name="q21b" value="false"> Sai</label>
                                </div>
                            </div>
                            <div class="true-false-item">
                                <span>c. Inox ch·ª©a ch·ªß y·∫øu l√† s·∫Øt v√† m·ªôt s·ªë nguy√™n t·ªë kh√°c nh∆∞ Cr, Ni, ‚Ä¶ kh√≥ b·ªã g·ªâ.</span>
                                <div class="tf-options">
                                    <label><input type="radio" name="q21c" value="true"> ƒê√∫ng</label>
                                    <label><input type="radio" name="q21c" value="false"> Sai</label>
                                </div>
                            </div>
                            <div class="true-false-item">
                                <span>d. ƒêuy ‚Äì ra (duralumin) l√† h·ª£p kim c·ªßa nh√¥m v·ªõi Cu, Mg, Mn, ‚Ä¶ n·∫∑ng v√† b·ªÅn.</span>
                                <div class="tf-options">
                                    <label><input type="radio" name="q21d" value="true"> ƒê√∫ng</label>
                                    <label><input type="radio" name="q21d" value="false"> Sai</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="question-container" data-question="22">
                    <div class="question-header">C√¢u 22: Tr·∫Øc nghi·ªám ƒë√∫ng sai</div>
                    <div class="question-content">
                        <p><strong>Kim lo·∫°i v√† phi kim c√≥ nhi·ªÅu t√≠nh ch·∫•t v·∫≠t l√≠ kh√°c nhau.</strong></p>
                        <div class="true-false-container">
                            <div class="true-false-item">
                                <span>a. Kim lo·∫°i d·∫´n ƒëi·ªán t·ªët c√≤n phi kim th∆∞·ªùng kh√¥ng d·∫´n ƒëi·ªán.</span>
                                <div class="tf-options">
                                    <label><input type="radio" name="q22a" value="true"> ƒê√∫ng</label>
                                    <label><input type="radio" name="q22a" value="false"> Sai</label>
                                </div>
                            </div>
                            <div class="true-false-item">
                                <span>b. Kim lo·∫°i d·∫´n nhi·ªát t·ªët nh∆∞ng kh√¥ng v·∫´n k√©m phi kim.</span>
                                <div class="tf-options">
                                    <label><input type="radio" name="q22b" value="true"> ƒê√∫ng</label>
                                    <label><input type="radio" name="q22b" value="false"> Sai</label>
                                </div>
                            </div>
                            <div class="true-false-item">
                                <span>c. H·∫ßu h·∫øt c√°c kim lo·∫°i ·ªü th·ªÉ r·∫Øn ƒëi·ªÅu ki·ªán th∆∞·ªùng (tr·ª´ Hg th·ªÉ l·ªèng) c√≤n phi kim th√¨ c√≥ c·∫£ ba tr·∫°ng th√°i: r·∫Øn, l·ªèng, kh√≠.</span>
                                <div class="tf-options">
                                    <label><input type="radio" name="q22c" value="true"> ƒê√∫ng</label>
                                    <label><input type="radio" name="q22c" value="false"> Sai</label>
                                </div>
                            </div>
                            <div class="true-false-item">
                                <span>d. C√°c kim lo·∫°i th∆∞·ªùng c√≥ kh·ªëi l∆∞·ª£ng ri√™ng nh·ªè c√≤n phi kim c√≥ kh·ªëi l∆∞·ª£ng ri√™ng l·ªõn.</span>
                                <div class="tf-options">
                                    <label><input type="radio" name="q22d" value="true"> ƒê√∫ng</label>
                                    <label><input type="radio" name="q22d" value="false"> Sai</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- PH·∫¶N III: TR·∫¢ L·ªúI NG·∫ÆN -->
                <div class="question-container short-answer" data-question="23">
                    <div class="question-header">C√¢u 23: Tr·∫£ l·ªùi ng·∫Øn</div>
                    <div class="question-content">
                        <p><strong>Cho c√°c kim lo·∫°i: Mg, Na, Fe, Ca, K. C√≥ bao nhi√™u kim lo·∫°i t√°c d·ª•ng ƒë∆∞·ª£c v·ªõi n∆∞·ªõc ·ªü ƒëi·ªÅu ki·ªán th∆∞·ªùng t·∫°o ra dung d·ªãch base?</strong></p>
                        <input type="text" id="q23_answer" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n">
                    </div>
                </div>
                <div class="question-container short-answer" data-question="24">
                    <div class="question-header">C√¢u 24: Tr·∫£ l·ªùi ng·∫Øn</div>
                    <div class="question-content">
                        <p><strong>Cho c√°c kim lo·∫°i: Na, Mg, K, Ca, Fe, Al. C√≥ bao nhi√™u kim lo·∫°i ƒë·∫©y ƒë∆∞·ª£c Cu ra kh·ªèi dung d·ªãch mu·ªëi?</strong></p>
                        <input type="text" id="q24_answer" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n">
                    </div>
                </div>
                <div class="question-container short-answer" data-question="25">
                    <div class="question-header">C√¢u 25: Tr·∫£ l·ªùi ng·∫Øn</div>
                    <div class="question-content">
                        <p><strong>Cho c√°c h·ª£p kim: gang, th√©p carbon, inox, ƒëuy ‚Äì ra, ƒë·ªìng thau. C√≥ bao nhi√™u h·ª£p kim c√≥ kim lo·∫°i c∆° b·∫£n l√† Fe?</strong></p>
                        <input type="text" id="q25_answer" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n">
                    </div>
                </div>
                <div class="question-container short-answer" data-question="26">
                    <div class="question-header">C√¢u 26: Tr·∫£ l·ªùi ng·∫Øn</div>
                    <div class="question-content">
                        <p><strong>Cho c√°c kim lo·∫°i: Na, K, Mg, Cu l·∫ßn l∆∞·ª£t t√°c d·ª•ng v·ªõi kh√≠ O‚ÇÇ v√† dung d·ªãch HCl ·ªü ƒëi·ªÅu ki·ªán th√≠ch h·ª£p. C√≥ bao nhi√™u ph·∫£n ·ª©ng x·∫£y ra?</strong></p>
                        <input type="text" id="q26_answer" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n">
                    </div>
                </div>
                <div class="question-container short-answer" data-question="27">
                    <div class="question-header">C√¢u 27: Tr·∫£ l·ªùi ng·∫Øn</div>
                    <div class="question-content">
                        <p><strong>Cho c√°c th√≠ nghi·ªám sau: (a) ƒêi·ªán ph√¢n n√≥ng ch·∫£y NaCl. (b) Cho H‚ÇÇ qua Fe‚ÇÉO‚ÇÑ, ƒëun n√≥ng. (c) Cho CO qua ZnO, ƒëun n√≥ng. (d) Cho Cu t√°c d·ª•ng v·ªõi dung d·ªãch FeCl‚ÇÇ. (e) Cho Cu t√°c d·ª•ng v·ªõi dung d·ªãch AgNO‚ÇÉ. C√≥ bao nhi√™u th√≠ nghi·ªám thu ƒë∆∞·ª£c kim lo·∫°i sau khi ph·∫£n ·ª©ng k·∫øt th√∫c?</strong></p>
                        <input type="text" id="q27_answer" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n">
                    </div>
                </div>
                <div class="question-container short-answer" data-question="28">
                    <div class="question-header">C√¢u 28: Tr·∫£ l·ªùi ng·∫Øn</div>
                    <div class="question-content">
                        <p><strong>T·ª´ 500 t·∫•n qu·∫∑ng hematite ch·ª©a 85% Fe‚ÇÇO‚ÇÉ s·∫£n xu·∫•t ƒë∆∞·ª£c x ngh√¨n chi·∫øc n·ªìi gang c√≥ h√†m l∆∞·ª£ng s·∫Øt l√† 95%. Bi·∫øt r·∫±ng m·ªói chi·∫øc n·ªìi gang n·∫∑ng 5 kg v√† hi·ªáu su·∫•t c·ªßa to√†n b·ªô qu√° tr√¨nh l√† 80%. Gi√° tr·ªã c·ªßa x l√† bao nhi√™u? (K·∫øt qu·∫£ l√†m tr√≤n ƒë·∫øn h√†ng ngh√¨n)</strong></p>
                        <input type="text" id="q28_answer" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n (ch·ªâ ƒëi·ªÅn s·ªë)">
                    </div>
                </div>

            </div>
            
            <div class="navigation">
                <button id="prevBtn" class="btn btn-secondary" onclick="prevQuestion()">C√¢u tr∆∞·ªõc</button>
                <button id="nextBtn" class="btn btn-primary" onclick="nextQuestion()">C√¢u ti·∫øp</button>
                <button id="submitBtn" class="btn btn-success" onclick="submitExam()" style="display: none;">N·ªôp b√†i</button>
            </div>
        </div>
        
        <div id="results-container" class="results">
            <h2>Ho√†n th√†nh b√†i ki·ªÉm tra!</h2>
            <p>H·ªç v√† t√™n: <span id="resultName"></span></p>
            <p>L·ªõp: <span id="resultClass"></span></p>
            <p>ƒêi·ªÉm s·ªë c·ªßa b·∫°n l√†:</p>
            <div class="score" id="score"></div>
            <p id="submission-status"></p>
            <button class="btn btn-primary" onclick="location.reload()">L√†m l·∫°i b√†i</button>
        </div>
    </div>

    <script>
        // --- C√ÅC BI·∫æN TO√ÄN C·ª§C ---
        let currentQuestionIndex = 0;
        let questions = [];
        let timerInterval;
        let userAnswers = {};

        // --- ƒê√ÅP √ÅN ---
        const correctAnswers = {
            q1: 'D', q2: 'B', q3: 'B', q4: 'D', q5: 'C', q6: 'D', q7: 'B', q8: 'C', q9: 'A', q10: 'C',
            q11: 'C', q12: 'D', q13: 'A', q14: 'C', q15: 'D', q16: 'D', q17: 'B', q18: 'B',
            q19a: 'true', q19b: 'true', q19c: 'false', q19d: 'false',
            q20a: 'false', q20b: 'false', q20c: 'true', q20d: 'true',
            q21a: 'true', q21b: 'false', q21c: 'true', q21d: 'false',
            q22a: 'true', q22b: 'false', q22c: 'true', q22d: 'false',
            q23: '3', q24: '3', q25: '3', q26: '7', q27: '4', q28: '50'
        };

        // --- C√ÅC H√ÄM X·ª¨ L√ù ---

        function startExam() {
            const studentName = document.getElementById('studentName').value.trim();
            const studentClass = document.getElementById('studentClass').value.trim();
            const studentEmail = document.getElementById('studentEmail').value.trim();

            if (!studentName || !studentClass || !studentEmail) {
                // S·ª≠ d·ª•ng m·ªôt th√¥ng b√°o t√πy ch·ªânh thay v√¨ alert
                alert('Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin.');
                return;
            }
            
            document.getElementById('student-form').style.display = 'none';
            document.getElementById('exam-container').style.display = 'block';
            
            initializeExam();
        }

        function initializeExam() {
            questions = document.querySelectorAll('.question-container');
            createQuestionNav();
            showQuestion(0);
            startTimer(45 * 60);
            
            questions.forEach((q, index) => {
                const inputs = q.querySelectorAll('input');
                inputs.forEach(input => {
                    input.addEventListener('change', () => {
                        markQuestionAsAnswered(index);
                    });
                     input.addEventListener('keyup', () => { // For text inputs
                        markQuestionAsAnswered(index);
                    });
                });
            });
        }

        function showQuestion(index) {
            questions.forEach(q => q.classList.remove('active'));
            if (questions[index]) {
                questions[index].classList.add('active');
                currentQuestionIndex = index;
                updateNavigationButtons();
                updateProgressBar();
                updateQuestionNavHighlight();
            }
        }

        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                showQuestion(currentQuestionIndex + 1);
            }
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                showQuestion(currentQuestionIndex - 1);
            }
        }
        
        function goToQuestion(index) {
            showQuestion(index);
        }

        function updateNavigationButtons() {
            document.getElementById('prevBtn').disabled = (currentQuestionIndex === 0);
            document.getElementById('nextBtn').style.display = (currentQuestionIndex === questions.length - 1) ? 'none' : 'inline-block';
            document.getElementById('submitBtn').style.display = (currentQuestionIndex === questions.length - 1) ? 'inline-block' : 'none';
        }

        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
        }
        
        function createQuestionNav() {
            const navContainer = document.getElementById('questionNav');
            navContainer.innerHTML = ''; // Clear previous nav
            questions.forEach((_, index) => {
                const btn = document.createElement('button');
                btn.className = 'question-btn';
                btn.textContent = index + 1;
                btn.onclick = () => goToQuestion(index);
                navContainer.appendChild(btn);
            });
        }
        
        function markQuestionAsAnswered(index) {
            const navBtns = document.querySelectorAll('.question-btn');
            if (navBtns[index]) {
                 const questionDiv = questions[index];
                 const inputs = questionDiv.querySelectorAll('input');
                 let isAnswered = false;
                 inputs.forEach(input => {
                     if ((input.type === 'radio' || input.type === 'checkbox') && input.checked) {
                         isAnswered = true;
                     }
                     if (input.type === 'text' && input.value.trim() !== '') {
                         isAnswered = true;
                     }
                 });

                 if(isAnswered) {
                    navBtns[index].classList.add('answered');
                 } else {
                    // Check if all radio buttons in a group are unchecked
                    let isGroupUnchecked = true;
                    const radioGroups = {};
                    inputs.forEach(input => {
                        if (input.type === 'radio') {
                            if (!radioGroups[input.name]) radioGroups[input.name] = [];
                            radioGroups[input.name].push(input.checked);
                        }
                    });
                    for(const group in radioGroups) {
                        if(radioGroups[group].some(checked => checked)) {
                            isGroupUnchecked = false;
                            break;
                        }
                    }
                    if(isGroupUnchecked) {
                        navBtns[index].classList.remove('answered');
                    }
                 }
            }
        }
        
        function updateQuestionNavHighlight() {
            const navBtns = document.querySelectorAll('.question-btn');
            navBtns.forEach((btn, index) => {
                btn.classList.toggle('current', index === currentQuestionIndex);
            });
        }

        function startTimer(duration) {
            let timer = duration;
            const timerDisplay = document.getElementById('timer');
            
            timerInterval = setInterval(() => {
                let minutes = parseInt(timer / 60, 10);
                let seconds = parseInt(timer % 60, 10);

                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;

                timerDisplay.textContent = minutes + ":" + seconds;

                if (--timer < 0) {
                    clearInterval(timerInterval);
                    // alert("H·∫øt gi·ªù l√†m b√†i! B√†i c·ªßa b·∫°n s·∫Ω ƒë∆∞·ª£c n·ªôp t·ª± ƒë·ªông.");
                    submitExam();
                }
            }, 1000);
        }
        
        function submitExam() {
            clearInterval(timerInterval);
            let score = 0;
            const totalPoints = Object.keys(correctAnswers).length;
            const studentAnswers = [];

            // L·∫∑p qua t·∫•t c·∫£ c√¢u h·ªèi ƒë·ªÉ l·∫•y c√¢u tr·∫£ l·ªùi v√† t√≠nh ƒëi·ªÉm
            for (let i = 1; i <= questions.length; i++) {
                if (i <= 18) { // Tr·∫Øc nghi·ªám nhi·ªÅu l·ª±a ch·ªçn
                    const questionName = `q${i}`;
                    const selectedOption = document.querySelector(`input[name="${questionName}"]:checked`);
                    const answer = selectedOption ? selectedOption.value : "N/A";
                    studentAnswers.push(`C√¢u ${i}: ${answer}`);
                    if (selectedOption && selectedOption.value === correctAnswers[questionName]) {
                        score++;
                    }
                } else if (i >= 19 && i <= 22) { // Tr·∫Øc nghi·ªám ƒë√∫ng/sai
                    const subQuestions = ['a', 'b', 'c', 'd'];
                    subQuestions.forEach(sub => {
                        const questionName = `q${i}${sub}`;
                        const selectedOption = document.querySelector(`input[name="${questionName}"]:checked`);
                        const answer = selectedOption ? selectedOption.value : "N/A";
                        studentAnswers.push(`C√¢u ${i}${sub}: ${answer}`);
                        if (selectedOption && selectedOption.value === correctAnswers[questionName]) {
                            score++;
                        }
                    });
                } else { // Tr·∫£ l·ªùi ng·∫Øn
                    const questionName = `q${i}`;
                    const inputElement = document.getElementById(`${questionName}_answer`);
                    const answer = inputElement ? inputElement.value.trim() : "N/A";
                    studentAnswers.push(`C√¢u ${i}: ${answer}`);
                    if (inputElement && answer.toLowerCase() === correctAnswers[questionName].toLowerCase()) {
                        score++;
                    }
                }
            }
            
            const finalScore = ((score / totalPoints) * 10).toFixed(2);
            
            submitToGoogleForm(finalScore, studentAnswers.join('; '));
            showResults(finalScore);
        }
        
        async function submitToGoogleForm(score, answers) {
            const formUrl = "https://docs.google.com/forms/d/e/1FAIpQLSex8wY7NsTNLpY-Yw0bzsg5bOwbJ4H0nk5aDK8bu1kGNlcXJQ/formResponse";
            
            const formData = new FormData();
            formData.append("entry.2117417", document.getElementById('studentName').value);
            formData.append("entry.1962297453", document.getElementById('studentClass').value);
            formData.append("entry.1413115865", document.getElementById('studentEmail').value);
            formData.append("entry.400917259", score);
            formData.append("entry.1899292280", answers);

            try {
                await fetch(formUrl, {
                    method: 'POST',
                    body: formData,
                    mode: 'no-cors' // Quan tr·ªçng: ƒë·ªÉ tr√°nh l·ªói CORS
                });
                document.getElementById('submission-status').textContent = "K·∫øt qu·∫£ c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c g·ª≠i ƒëi th√†nh c√¥ng!";
            } catch (error) {
                console.error('Error submitting to Google Form:', error);
                document.getElementById('submission-status').textContent = "Kh√¥ng th·ªÉ g·ª≠i k·∫øt qu·∫£. Vui l√≤ng ki·ªÉm tra l·∫°i k·∫øt n·ªëi.";
            }
        }
        
        function showResults(finalScore) {
            document.getElementById('exam-container').style.display = 'none';
            document.getElementById('results-container').style.display = 'block';
            
            document.getElementById('resultName').textContent = document.getElementById('studentName').value;
            document.getElementById('resultClass').textContent = document.getElementById('studentClass').value;
            document.getElementById('score').textContent = finalScore;
        }

    </script>
</body>
</html>
